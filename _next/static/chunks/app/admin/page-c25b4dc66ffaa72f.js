(self["webpackChunk_N_E"]=self["webpackChunk_N_E"]||[]).push([[698],{2714:(e,t,s)=>{"use strict";s.d(t,{J:()=>d});var r=s(5155);var a=s(2115);var n=s(7073);var c=s(2085);var l=s(3999);const i=(0,c.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70");const d=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(n.b,{ref:t,className:(0,l.cn)(i(),s),...a})});d.displayName=n.b.displayName},3301:(e,t,s)=>{"use strict";s.d(t,{N:()=>n});var r=s(5453);var a=s(6786);const n=(0,r.v)()((0,a.Zr)((e,t)=>({customers:[],addCustomer:t=>{const s="customer_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9));const r={id:s,name:t.name,phone:t.phone,email:t.email,createdAt:new Date().toISOString(),accessedDietPlan:false,agreements:{privacy:t.privacyAgreed,marketing:t.marketingAgreed,privacyAgreedAt:t.privacyAgreed?new Date().toISOString():null,marketingAgreedAt:t.marketingAgreed?new Date().toISOString():null}};e(e=>({customers:[...e.customers,r]}));return s},getCustomers:()=>{return t().customers},markDietPlanAccessed:t=>{e(e=>({customers:e.customers.map(e=>e.id===t?{...e,accessedDietPlan:true}:e)}))},deleteCustomer:t=>{e(e=>({customers:e.customers.filter(e=>e.id!==t)}))}}),{name:"customer-data"}))},3999:(e,t,s)=>{"use strict";s.d(t,{cn:()=>n});var r=s(2596);var a=s(9688);function n(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++){t[s]=arguments[s]}return(0,a.QP)((0,r.$)(t))}},6192:(e,t,s)=>{"use strict";s.r(t);s.d(t,{"default":()=>b});var r=s(5155);var a=s(2115);var n=s(3301);var c=s(7168);var l=s(8482);var i=s(9852);var d=s(2714);var o=s(8145);var m=s(9946);const x=(0,m.A)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);var u=s(1788);var h=s(7580);var f=s(646);var g=s(8883);const v=(0,m.A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);var p=s(9420);const j=(0,m.A)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);const N=(0,m.A)("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);const y="gotls2ek3!@";function b(){const[e,t]=(0,a.useState)(false);const[s,m]=(0,a.useState)("");const[b,w]=(0,a.useState)("");const[k,A]=(0,a.useState)([]);const{getCustomers:D,deleteCustomer:C}=(0,n.N)();(0,a.useEffect)(()=>{const e=sessionStorage.getItem("admin_auth");if(e==="true"){t(true);S()}},[]);const S=()=>{const e=D();A(e.sort((e,t)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()))};const R=e=>{e.preventDefault();if(s===y){t(true);sessionStorage.setItem("admin_auth","true");S();w("")}else{w("잘못된 패스워드입니다.")}};const _=()=>{t(false);sessionStorage.removeItem("admin_auth");m("")};const E=e=>{if(window.confirm("정말로 이 고객 정보를 삭제하시겠습니까?")){C(e);S()}};const Z=e=>{const t=new Date(e);return t.toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})};const F=()=>{const e=["이름","전화번호","이메일","등록일시","식단표 접근","개인정보 동의","마케팅 동의"];const t=[e.join(","),...k.map(e=>{var t,s;return[e.name,e.phone,e.email,Z(e.createdAt),e.accessedDietPlan?"접근함":"미접근",((t=e.agreements)===null||t===void 0?void 0:t.privacy)?"동의":"미동의",((s=e.agreements)===null||s===void 0?void 0:s.marketing)?"동의":"미동의"].join(",")})].join("\n");const s=new Blob(["\uFEFF"+t],{type:"text/csv;charset=utf-8;"});const r=document.createElement("a");r.href=URL.createObjectURL(s);r.download="고객정보_".concat(new Date().toISOString().split("T")[0],".csv");r.click()};if(!e){return(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:(0,r.jsxs)(l.Zp,{className:"w-full max-w-md",children:[(0,r.jsxs)(l.aR,{className:"text-center",children:[(0,r.jsx)("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 p-4 rounded-full mx-auto mb-4 w-16 h-16 flex items-center justify-center",children:(0,r.jsx)(x,{className:"w-8 h-8 text-white"})}),(0,r.jsx)(l.ZB,{className:"text-2xl font-bold text-gray-800",children:"\uD83C\uDF71 미미인 도시락 관리자"}),(0,r.jsx)("p",{className:"text-gray-600 mt-2",children:"관리자 전용 페이지입니다"})]}),(0,r.jsx)(l.Wu,{children:(0,r.jsxs)("form",{onSubmit:R,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(d.J,{htmlFor:"password",className:"text-sm font-medium text-gray-700",children:"관리자 패스워드"}),(0,r.jsx)(i.p,{id:"password",type:"password",value:s,onChange:e=>m(e.target.value),placeholder:"패스워드를 입력하세요",className:"mt-1"}),b&&(0,r.jsx)("p",{className:"text-red-500 text-xs mt-1",children:b})]}),(0,r.jsx)(c.$,{type:"submit",className:"w-full bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700",children:"로그인"})]})})]})})}return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsx)("div",{className:"bg-white shadow-sm border-b",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-4",children:(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("div",{className:"text-2xl",children:"\uD83C\uDF71"}),(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"미미인 도시락 관리자"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)(c.$,{variant:"outline",onClick:F,className:"flex items-center",disabled:k.length===0,children:[(0,r.jsx)(u.A,{className:"w-4 h-4 mr-2"}),"CSV 다운로드"]}),(0,r.jsx)(c.$,{variant:"outline",onClick:_,className:"text-red-600 border-red-200 hover:bg-red-50",children:"로그아웃"})]})]})})}),(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[(0,r.jsxs)("div",{className:"grid md:grid-cols-5 gap-4 mb-8",children:[(0,r.jsx)(l.Zp,{children:(0,r.jsx)(l.Wu,{className:"p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"총 고객 수"}),(0,r.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:k.length})]}),(0,r.jsx)(h.A,{className:"w-8 h-8 text-blue-500"})]})})}),(0,r.jsx)(l.Zp,{children:(0,r.jsx)(l.Wu,{className:"p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"식단표 접근"}),(0,r.jsx)("p",{className:"text-3xl font-bold text-green-600",children:k.filter(e=>e.accessedDietPlan).length})]}),(0,r.jsx)(f.A,{className:"w-8 h-8 text-green-500"})]})})}),(0,r.jsx)(l.Zp,{children:(0,r.jsx)(l.Wu,{className:"p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"개인정보 동의"}),(0,r.jsx)("p",{className:"text-3xl font-bold text-blue-600",children:k.filter(e=>{var t;return(t=e.agreements)===null||t===void 0?void 0:t.privacy}).length})]}),(0,r.jsx)(x,{className:"w-8 h-8 text-blue-500"})]})})}),(0,r.jsx)(l.Zp,{children:(0,r.jsx)(l.Wu,{className:"p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"마케팅 동의"}),(0,r.jsx)("p",{className:"text-3xl font-bold text-purple-600",children:k.filter(e=>{var t;return(t=e.agreements)===null||t===void 0?void 0:t.marketing}).length})]}),(0,r.jsx)(g.A,{className:"w-8 h-8 text-purple-500"})]})})}),(0,r.jsx)(l.Zp,{children:(0,r.jsx)(l.Wu,{className:"p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"오늘 신규 고객"}),(0,r.jsx)("p",{className:"text-3xl font-bold text-orange-600",children:k.filter(e=>new Date(e.createdAt).toDateString()===new Date().toDateString()).length})]}),(0,r.jsx)(v,{className:"w-8 h-8 text-orange-500"})]})})})]}),(0,r.jsxs)(l.Zp,{children:[(0,r.jsx)(l.aR,{children:(0,r.jsxs)(l.ZB,{className:"flex items-center",children:[(0,r.jsx)(h.A,{className:"w-5 h-5 mr-2"}),"고객 정보 목록"]})}),(0,r.jsx)(l.Wu,{children:k.length===0?(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)(h.A,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-lg text-gray-600",children:"등록된 고객이 없습니다."})]}):(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"border-b bg-gray-50",children:[(0,r.jsx)("th",{className:"text-left p-4 font-medium text-gray-700",children:"이름"}),(0,r.jsx)("th",{className:"text-left p-4 font-medium text-gray-700",children:"연락처"}),(0,r.jsx)("th",{className:"text-left p-4 font-medium text-gray-700",children:"이메일"}),(0,r.jsx)("th",{className:"text-left p-4 font-medium text-gray-700",children:"등록일시"}),(0,r.jsx)("th",{className:"text-left p-4 font-medium text-gray-700",children:"식단표 접근"}),(0,r.jsx)("th",{className:"text-left p-4 font-medium text-gray-700",children:"개인정보 동의"}),(0,r.jsx)("th",{className:"text-left p-4 font-medium text-gray-700",children:"마케팅 동의"}),(0,r.jsx)("th",{className:"text-left p-4 font-medium text-gray-700",children:"관리"})]})}),(0,r.jsx)("tbody",{children:k.map(e=>{var t,s;return(0,r.jsxs)("tr",{className:"border-b hover:bg-gray-50",children:[(0,r.jsx)("td",{className:"p-4",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center mr-3",children:(0,r.jsx)("span",{className:"text-orange-600 font-medium text-sm",children:e.name.charAt(0)})}),(0,r.jsx)("span",{className:"font-medium text-gray-900",children:e.name})]})}),(0,r.jsx)("td",{className:"p-4",children:(0,r.jsxs)("div",{className:"flex items-center text-gray-600",children:[(0,r.jsx)(p.A,{className:"w-4 h-4 mr-2"}),e.phone]})}),(0,r.jsx)("td",{className:"p-4",children:(0,r.jsxs)("div",{className:"flex items-center text-gray-600",children:[(0,r.jsx)(g.A,{className:"w-4 h-4 mr-2"}),e.email]})}),(0,r.jsx)("td",{className:"p-4 text-gray-600",children:Z(e.createdAt)}),(0,r.jsx)("td",{className:"p-4",children:e.accessedDietPlan?(0,r.jsxs)(o.E,{className:"bg-green-100 text-green-800 border-green-200",children:[(0,r.jsx)(f.A,{className:"w-3 h-3 mr-1"}),"접근함"]}):(0,r.jsxs)(o.E,{variant:"secondary",className:"bg-gray-100 text-gray-600",children:[(0,r.jsx)(j,{className:"w-3 h-3 mr-1"}),"미접근"]})}),(0,r.jsx)("td",{className:"p-4",children:((t=e.agreements)===null||t===void 0?void 0:t.privacy)?(0,r.jsxs)(o.E,{className:"bg-blue-100 text-blue-800 border-blue-200",children:[(0,r.jsx)(f.A,{className:"w-3 h-3 mr-1"}),"동의"]}):(0,r.jsxs)(o.E,{variant:"secondary",className:"bg-gray-100 text-gray-600",children:[(0,r.jsx)(j,{className:"w-3 h-3 mr-1"}),"미동의"]})}),(0,r.jsx)("td",{className:"p-4",children:((s=e.agreements)===null||s===void 0?void 0:s.marketing)?(0,r.jsxs)(o.E,{className:"bg-purple-100 text-purple-800 border-purple-200",children:[(0,r.jsx)(f.A,{className:"w-3 h-3 mr-1"}),"동의"]}):(0,r.jsxs)(o.E,{variant:"secondary",className:"bg-gray-100 text-gray-600",children:[(0,r.jsx)(j,{className:"w-3 h-3 mr-1"}),"미동의"]})}),(0,r.jsx)("td",{className:"p-4",children:(0,r.jsx)(c.$,{variant:"outline",size:"sm",onClick:()=>E(e.id),className:"text-red-600 border-red-200 hover:bg-red-50",children:(0,r.jsx)(N,{className:"w-4 h-4"})})})]},e.id)})})]})})})]})]}),(0,r.jsx)("div",{className:"bg-white border-t mt-8",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-center text-sm text-gray-600",children:[(0,r.jsx)(x,{className:"w-4 h-4 mr-2 text-orange-500"}),(0,r.jsxs)("span",{children:["개인정보 관리책임자: ",(0,r.jsx)("span",{className:"font-medium text-gray-800",children:"김신균 (홈페이지 관리자)"})]})]})})})]})}},7168:(e,t,s)=>{"use strict";s.d(t,{$:()=>d});var r=s(5155);var a=s(2115);var n=s(4624);var c=s(2085);var l=s(3999);const i=(0,c.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}});const d=a.forwardRef((e,t)=>{let{className:s,variant:a,size:c,asChild:d=false,...o}=e;const m=d?n.DX:"button";return(0,r.jsx)(m,{className:(0,l.cn)(i({variant:a,size:c,className:s})),ref:t,...o})});d.displayName="Button"},8145:(e,t,s)=>{"use strict";s.d(t,{E:()=>i});var r=s(5155);var a=s(2115);var n=s(2085);var c=s(3999);const l=(0,n.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:t,variant:s,...a}=e;return(0,r.jsx)("div",{className:(0,c.cn)(l({variant:s}),t),...a})}},8482:(e,t,s)=>{"use strict";s.d(t,{Wu:()=>o,ZB:()=>i,Zp:()=>c,aR:()=>l});var r=s(5155);var a=s(2115);var n=s(3999);const c=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...a})});c.displayName="Card";const l=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",s),...a})});l.displayName="CardHeader";const i=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",s),...a})});i.displayName="CardTitle";const d=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",s),...a})});d.displayName="CardDescription";const o=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",s),...a})});o.displayName="CardContent";const m=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",s),...a})});m.displayName="CardFooter"},9162:(e,t,s)=>{Promise.resolve().then(s.bind(s,6192))},9852:(e,t,s)=>{"use strict";s.d(t,{p:()=>c});var r=s(5155);var a=s(2115);var n=s(3999);const c=a.forwardRef((e,t)=>{let{className:s,type:a,...c}=e;return(0,r.jsx)("input",{type:a,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:t,...c})});c.displayName="Input"}},e=>{var t=t=>e(e.s=t);e.O(0,[722,441,684,358],()=>t(9162));var s=e.O();_N_E=s}]);